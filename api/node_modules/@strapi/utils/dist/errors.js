"use strict";
/* eslint-disable max-classes-per-file */
Object.defineProperty(exports, "__esModule", { value: true });
exports.NotImplementedError = exports.PolicyError = exports.PayloadTooLargeError = exports.RateLimitError = exports.UnauthorizedError = exports.ForbiddenError = exports.NotFoundError = exports.PaginationError = exports.YupValidationError = exports.ValidationError = exports.ApplicationError = exports.HttpError = void 0;
const http_errors_1 = require("http-errors");
Object.defineProperty(exports, "HttpError", { enumerable: true, get: function () { return http_errors_1.HttpError; } });
const format_yup_error_1 = require("./format-yup-error");
/* ApplicationError */
class ApplicationError extends Error {
    constructor(message, details = {}) {
        super();
        this.name = 'ApplicationError';
        this.message = message || 'An application error occured';
        this.details = details;
    }
}
exports.ApplicationError = ApplicationError;
class ValidationError extends ApplicationError {
    constructor(message, details) {
        super(message, details);
        this.name = 'ValidationError';
    }
}
exports.ValidationError = ValidationError;
class YupValidationError extends ValidationError {
    constructor(yupError, message) {
        super('Validation');
        const { errors, message: yupMessage } = (0, format_yup_error_1.formatYupErrors)(yupError);
        this.message = message || yupMessage;
        this.details = { errors };
    }
}
exports.YupValidationError = YupValidationError;
class PaginationError extends ApplicationError {
    constructor(message, details) {
        super(message, details);
        this.name = 'PaginationError';
        this.message = message || 'Invalid pagination';
    }
}
exports.PaginationError = PaginationError;
class NotFoundError extends ApplicationError {
    constructor(message, details) {
        super(message, details);
        this.name = 'NotFoundError';
        this.message = message || 'Entity not found';
    }
}
exports.NotFoundError = NotFoundError;
class ForbiddenError extends ApplicationError {
    constructor(message, details) {
        super(message, details);
        this.name = 'ForbiddenError';
        this.message = message || 'Forbidden access';
    }
}
exports.ForbiddenError = ForbiddenError;
class UnauthorizedError extends ApplicationError {
    constructor(message, details) {
        super(message, details);
        this.name = 'UnauthorizedError';
        this.message = message || 'Unauthorized';
    }
}
exports.UnauthorizedError = UnauthorizedError;
class RateLimitError extends ApplicationError {
    constructor(message, details) {
        super(message, details);
        this.name = 'RateLimitError';
        this.message = message || 'Too many requests, please try again later.';
        this.details = details || {};
    }
}
exports.RateLimitError = RateLimitError;
class PayloadTooLargeError extends ApplicationError {
    constructor(message, details) {
        super(message, details);
        this.name = 'PayloadTooLargeError';
        this.message = message || 'Entity too large';
    }
}
exports.PayloadTooLargeError = PayloadTooLargeError;
class PolicyError extends ForbiddenError {
    constructor(message, details) {
        super(message, details);
        this.name = 'PolicyError';
        this.message = message || 'Policy Failed';
        this.details = details || {};
    }
}
exports.PolicyError = PolicyError;
class NotImplementedError extends ApplicationError {
    constructor(message, details) {
        super(message, details);
        this.name = 'NotImplementedError';
        this.message = message || 'This feature is not implemented yet';
    }
}
exports.NotImplementedError = NotImplementedError;
//# sourceMappingURL=errors.js.map